{"ast":null,"code":"var _jsxFileName = \"D:\\\\Downloads\\\\aman\\\\aman\\\\src\\\\components\\\\Monitor.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { realdb } from '../firebase';\nimport './Monitor.css';\nimport emailjs from 'emailjs-com';\nimport { useRef } from 'react';\n\nconst Monitor = () => {\n  var {\n    email\n  } = useParams();\n  var form = useRef();\n  const history = useHistory();\n  const [data, setdata] = useState();\n  const [ldrval, setldrval] = useState();\n  useEffect(() => {\n    const vals = realdb.ref('data');\n    const ldrval = realdb.ref('ldr');\n    vals.on('value', function (snapshot) {\n      console.log(\":::\");\n      console.log(snapshot.val());\n      setdata(snapshot.val());\n    });\n    ldrval.on('value', function (snapshot) {\n      console.log(\":::\");\n      console.log(snapshot.val());\n      setldrval(snapshot.val());\n    });\n  }, []); // const vals= realdb.ref('data');\n  // vals.on('value', function(snapshot) {\n  //   console.log(snapshot.val());\n  // })\n  // console.log(vals);\n\n  var progress;\n  progress = (100 - data / 15 * 100).toString().slice(0, 5) + \"%\";\n  var ldr;\n  ldr = ldrval > 500 ? \"yes\" : \"no\";\n  useEffect(() => {\n    document.getElementById('progress').style.width = progress;\n\n    if (100 - data / 15 * 100 <= 20) {\n      // console.log(\"gadar\");\n      // var e=document.getElementById('form');\n      emailjs.sendForm('service_i1xgjnu', 'template_8afk7mm', form.current, 'UVSXZxuz4C3z-N6NR').then(result => {\n        console.log(result.text);\n      }, error => {\n        console.log(error.text);\n      });\n      document.getElementById('progress').style.backgroundColor = \"red\";\n    } else {\n      document.getElementById('progress').style.backgroundColor = \"green\";\n    }\n  }, [data]);\n\n  function revert() {\n    history.push(`/main/${email}`);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }\n  }, \"Monitor DashBoard\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progressbar\",\n    style: {\n      width: 500,\n      height: 40,\n      backgroundColor: \"grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress\",\n    id: \"progress\",\n    style: {\n      height: 40,\n      backgroundColor: \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"percentage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, \"Drip Left:- \", progress), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"percentage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, \"BUBBLE FORMATION:- \", ldr), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"btn\",\n    id: \"btn\",\n    onClick: revert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, \"Stop\"), /*#__PURE__*/React.createElement(\"form\", {\n    ref: form,\n    style: {\n      display: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"user\",\n    value: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"progres\",\n    value: progress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"LDR\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"ldr\",\n    value: ldr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }))));\n};\n\nexport default Monitor;","map":{"version":3,"sources":["D:/Downloads/aman/aman/src/components/Monitor.js"],"names":["React","useEffect","useState","useHistory","useParams","realdb","emailjs","useRef","Monitor","email","form","history","data","setdata","ldrval","setldrval","vals","ref","on","snapshot","console","log","val","progress","toString","slice","ldr","document","getElementById","style","width","sendForm","current","then","result","text","error","backgroundColor","revert","push","height","display"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { realdb } from '../firebase'\nimport './Monitor.css'\nimport emailjs from 'emailjs-com'\nimport { useRef } from 'react'\nconst Monitor = () => {\n  var {email}=useParams();\n  var form = useRef();\n  const history=useHistory();\n  const [data, setdata] = useState();\n  const [ldrval, setldrval] = useState();\n  useEffect(() => {\n    const vals= realdb.ref('data');\n    const ldrval = realdb.ref('ldr');\n    vals.on('value', function(snapshot) {\n      console.log(\":::\");\n      console.log(snapshot.val());\n      setdata(snapshot.val());\n    })\n    ldrval.on('value', function(snapshot) {\n      console.log(\":::\");\n      console.log(snapshot.val());\n      setldrval(snapshot.val());\n    })\n  }, [])\n  // const vals= realdb.ref('data');\n  // vals.on('value', function(snapshot) {\n  //   console.log(snapshot.val());\n  // })\n  // console.log(vals);\n  var progress;\n  progress=(100-(data/15*100)).toString().slice(0,5)+\"%\";\n  var ldr;\n  ldr = (ldrval>500)?\"yes\":\"no\";\n  useEffect(() => {\n    document.getElementById('progress').style.width=progress;\n    if(100-(data/15*100)<=20)\n    {\n      // console.log(\"gadar\");\n      // var e=document.getElementById('form');\n      \n      emailjs.sendForm('service_i1xgjnu', 'template_8afk7mm',form.current, 'UVSXZxuz4C3z-N6NR')\n      .then((result) => {\n          console.log(result.text);\n      }, (error) => {\n          console.log(error.text);\n      });\n      document.getElementById('progress').style.backgroundColor=\"red\";\n    }\n    else{\n      document.getElementById('progress').style.backgroundColor=\"green\";\n\n    }\n  }, [data]);\n  function revert()\n  {\n    history.push(`/main/${email}`);\n  }\n  return (\n    <>\n   <div className='page'></div>\n   <div className=\"center\">\n   <div className='head'>\n    Monitor DashBoard\n   </div>\n    <div className=\"progressbar\" style={{width:500,height:40,backgroundColor:\"grey\"}}>\n      {/* {progress=(data/20*100).toString()+\"%\"} */}\n      <div className=\"progress\" id='progress' style={{height:40,backgroundColor:\"green\"}}></div>\n    </div>\n    <div className=\"percentage\">Drip Left:- {progress}</div>\n    <div className=\"percentage\">BUBBLE FORMATION:- {ldr}</div>\n    <div class=\"btn\" id=\"btn\" onClick={revert}>Stop</div>\n    <form ref={form} style={{display:\"none\"}}>\n      <label>Name</label>\n      <input type=\"email\" name=\"user\" value={email}/>\n      <label>Email</label>\n      <input type=\"text\" name=\"progres\" value={progress} />\n      <label>LDR</label>\n      <input type=\"text\" name=\"ldr\" value={ldr} />\n    </form>\n    </div>\n    </>\n  )\n}\n\nexport default Monitor"]},"metadata":{},"sourceType":"module"}